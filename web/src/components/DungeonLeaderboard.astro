---
export interface Props {
  class?: string;
}

const { class: className } = Astro.props;
---

<div
  class={`leaderboard-container card-container ${className || ""}`.trim()}
  id="dungeon-leaderboard"
>
  <div id="leaderboard-rows"></div>
</div>

<div
  id="cross-realm-note"
  style="display: none; margin-top: 15px; padding: 10px; background-color: rgba(255, 107, 107, 0.1); border-left: 3px solid #ff6b6b; border-radius: 4px;"
>
  <p style="margin: 0; font-size: 0.85em; color: var(--text-secondary);">
    <span style="color: #ff6b6b; font-weight: bold;">*</span> indicates players from
    other realms. Times with 3+ local players represent the true realm record for
    Feat of Strength achievement.
  </p>
</div>

<style>
  .leaderboard-container {
    overflow: hidden;
    margin-top: 20px;
  }

  #leaderboard-rows {
    display: table;
    width: 100%;
  }

  @media (max-width: 1024px) {
    .leaderboard-header,
    .leaderboard-row {
      grid-template-columns: 60px 100px 1fr 80px 120px;
      gap: 15px;
    }

    .player {
      min-width: 75px;
      font-size: 0.75em;
    }
  }

  @media (max-width: 768px) {
    .leaderboard-header,
    .leaderboard-row {
      grid-template-columns: 1fr;
      gap: 10px;
      text-align: center;
      padding: 10px 15px;
    }

    .team-composition {
      justify-content: center;
    }

    .player {
      min-width: 70px;
      font-size: 0.75em;
    }

    .rank,
    .duration,
    .mythic-rating,
    .completed-time {
      font-size: 1.1em;
      margin: 5px 0;
    }
  }
</style>

<style is:global>
  #leaderboard-rows .leaderboard-row {
    display: table-row !important;
    border-bottom: 1px solid #4a4a4a !important;
    background-color: #32302f;
    transition: background-color 0.2s ease;
  }

  #leaderboard-rows .leaderboard-row:hover {
    background-color: rgba(255, 215, 0, 0.05);
  }

  #leaderboard-rows .rank {
    font-size: 1.2em !important;
    font-weight: bold !important;
    text-align: center !important;
    color: #d8a657 !important;
  }

  #leaderboard-rows .duration {
    font-family: "Courier New", monospace !important;
    font-weight: bold !important;
    color: #00ff88 !important;
    text-align: right !important;
  }

  #leaderboard-rows .team-composition {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 6px !important;
    justify-content: flex-start !important;
    align-items: center !important;
  }

  #leaderboard-rows .mythic-rating {
    color: #d8a657 !important;
    font-weight: bold !important;
    text-align: center !important;
  }

  #leaderboard-rows .completed-time {
    color: #aaaaaa !important;
    font-size: 0.9em !important;
    text-align: center !important;
  }

  @media (max-width: 1024px) {
    #leaderboard-rows .leaderboard-row {
      grid-template-columns: 60px 100px 1fr 80px 120px !important;
      gap: 15px !important;
    }
  }

  @media (max-width: 768px) {
    #leaderboard-rows .leaderboard-row {
      grid-template-columns: 1fr !important;
      gap: 10px !important;
      text-align: center !important;
      padding: 10px 15px !important;
    }

    #leaderboard-rows .team-composition {
      justify-content: center !important;
    }

    #leaderboard-rows .rank,
    #leaderboard-rows .duration,
    #leaderboard-rows .mythic-rating,
    #leaderboard-rows .completed-time {
      font-size: 1.1em !important;
      margin: 5px 0 !important;
    }
  }
</style>
